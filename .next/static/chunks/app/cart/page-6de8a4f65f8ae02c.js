(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{95:(e,t,r)=>{Promise.resolve().then(r.bind(r,4800))},4800:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5880),a=r(2711),o=r(2213),l=r(381),i=r(6292),d=r(3096),n=r(6237);function c(){let{items:e,removeItem:t,updateQuantity:r,clearCart:c}=(0,a._)(),x=(0,o.useRouter)(),[p,m]=(0,i.useState)("PIX"),u=e.reduce((e,t)=>e+t.price*t.quantity,0),h=async()=>{if(0!==e.length)try{await l.F.post("/orders",{items:e.map(e=>({productId:e.productId,quantity:e.quantity})),paymentMethod:p}),c(),alert("Pedido realizado com sucesso!"),x.push("/orders")}catch(e){alert("Erro ao finalizar pedido")}};return(0,s.jsxs)("div",{className:"min-h-screen bg-[#0D1D25] py-10 px-4 md:px-12",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-between items-center ",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-8",children:"Carrinho de Compras"}),(0,s.jsx)(n.A,{onClose:()=>x.back(),message:"Voltar"})]}),0===e.length?(0,s.jsx)("div",{className:"text-gray-400",children:"Seu carrinho est\xe1 vazio."}):(0,s.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2 ",children:[e.map(e=>(0,s.jsxs)("div",{className:"bg-[#1C232A] rounded-xl p-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-white font-semibold",children:e.name}),(0,s.jsxs)("span",{className:"text-gray-400 ml-2",children:["R$ ",e.price.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>r(e.productId,Math.max(1,e.quantity-1)),className:"px-2 text-white",children:"-"}),(0,s.jsx)("span",{className:"text-white",children:e.quantity}),(0,s.jsx)("button",{onClick:()=>r(e.productId,e.quantity+1),className:"px-2 text-white",children:"+"}),(0,s.jsx)("button",{onClick:()=>t(e.productId),className:"ml-4 text-red-400",children:"Remover"})]})]},e.productId)),(0,s.jsxs)("div",{className:"text-start text-white text-xl font-bold mt-4",children:["Total: R$ ",u.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex flex-col w-[700px] border-2 border-[#76797B] p-4 gap-4",children:[(0,s.jsx)("label",{className:"text-white font-medium",htmlFor:"paymentMethod",children:"Pagamento"}),(0,s.jsxs)("select",{id:"paymentMethod",value:p,onChange:e=>m(e.target.value),className:"rounded bg-[#0D161B] border-none text-[#7C7C8A] w-full h-[48px] px-4 py-3",children:[(0,s.jsx)("option",{value:"PIX",children:"PIX"}),(0,s.jsx)("option",{value:"CREDIT_CARD",children:"Cart\xe3o de Cr\xe9dito"}),(0,s.jsx)("option",{value:"BOLETO",children:"Boleto Banc\xe1rio"})]}),"PIX"===p&&(0,s.jsxs)("div",{className:"mt-4 flex flex-col items-center",children:[(0,s.jsx)("p",{className:"text-white mb-2",children:"Escaneie o QR Code para pagar via PIX"}),(0,s.jsx)(d.default,{width:200,height:200,src:"/Assets/images/qr_code.png",alt:"QR Code PIX",className:" bg-white rounded"})]}),"CREDIT_CARD"===p&&(0,s.jsxs)("div",{className:"mt-4 flex flex-col gap-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"N\xfamero do Cart\xe3o",className:"p-3 rounded bg-[#0D161B] text-white border border-gray-700"}),(0,s.jsx)("input",{type:"text",placeholder:"Nome no Cart\xe3o",className:"p-3 rounded bg-[#0D161B] text-white border border-gray-700"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Validade (MM/AA)",className:"p-3 rounded bg-[#0D161B] text-white border border-gray-700 flex-1"}),(0,s.jsx)("input",{type:"password",placeholder:"CVV",className:"p-3 rounded bg-[#0D161B] text-white border border-gray-700 w-24"})]})]}),"BOLETO"===p&&(0,s.jsx)("p",{className:"mt-4 text-white",children:"Voc\xea receber\xe1 o boleto para pagamento por e-mail."})]})]}),(0,s.jsx)("button",{onClick:h,className:"mt-4 bg-primary text-white px-6 py-3 rounded font-semibold hover:bg-primary/90 transition",children:"Finalizar Pedido"})]})]})}},6237:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5880);function a(e){let{onClose:t,message:r}=e;return(0,s.jsxs)("button",{className:"top-8 left-4 text-[24px] font-poppins font-bold text-[#E1E1E6] hover:text-white text-xl flex items-center gap-2 cursor-pointer z-10",onClick:t,children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),r]})}},2711:(e,t,r)=>{"use strict";r.d(t,{_:()=>i,e:()=>l});var s=r(5880),a=r(6292);let o=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,a.useState)([]);return(0,s.jsx)(o.Provider,{value:{items:r,addItem:e=>{l(t=>t.find(t=>t.productId===e.productId)?t.map(t=>t.productId===e.productId?{...t,quantity:t.quantity+e.quantity}:t):[...t,e])},removeItem:e=>{l(t=>t.filter(t=>t.productId!==e))},updateQuantity:(e,t)=>{l(r=>r.map(r=>r.productId===e?{...r,quantity:t}:r))},clearCart:()=>l([])},children:t})}function i(){let e=(0,a.useContext)(o);if(!e)throw Error("useCart must be used within a CartProvider");return e}},381:(e,t,r)=>{"use strict";r.d(t,{F:()=>o});var s=r(1719),a=r(8858);let o=s.A.create({baseURL:"http://localhost:3000",timeout:Number("10000Add commentMore actions")||1e4,timeoutErrorMessage:"Erro tempo de resposta excedido"});o.interceptors.request.use(e=>{let t=a.A.get("token")||localStorage.getItem("token");return t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(a.A.remove("token"),localStorage.removeItem("token"),localStorage.removeItem("role"),window.location.href="/login"),Promise.reject(e)))}},e=>{var t=t=>e(e.s=t);e.O(0,[760,746,132,27,358],()=>t(95)),_N_E=e.O()}]);