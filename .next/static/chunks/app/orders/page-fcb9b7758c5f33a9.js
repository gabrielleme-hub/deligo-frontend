(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{7244:(e,t,s)=>{Promise.resolve().then(s.bind(s,131))},131:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(5155),r=s(9556),n=s(2649),l=s(9297);function i(){let{data:e=[],isLoading:t,error:s}=(0,r.I)({queryKey:["orders"],queryFn:async()=>(await n.F.get("/orders")).data});return(0,a.jsxs)("div",{className:"min-h-screen bg-[#0D1D25] py-10 px-4 md:px-12",children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-8",children:"Meus Pedidos"}),(0,a.jsx)(l.A,{onClose:()=>window.history.back(),message:"Voltar"})]}),t&&(0,a.jsx)("div",{className:"text-white",children:"Carregando..."}),s&&(0,a.jsx)("div",{className:"text-red-400",children:"Erro ao carregar pedidos."}),0===e.length&&!t&&(0,a.jsx)("div",{className:"text-gray-400",children:"Nenhum pedido encontrado."}),(0,a.jsx)("div",{className:"flex flex-col gap-8",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-[#1C232A] rounded-xl p-6 shadow-md",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-4 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Pedido:"}),(0,a.jsx)("span",{className:"text-white font-semibold ml-2",children:e.id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Data:"}),(0,a.jsx)("span",{className:"text-white ml-2",children:new Date(e.createdAt).toLocaleString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Status:"}),(0,a.jsx)("span",{className:"ml-2 font-semibold ".concat("PAID"===e.status?"text-green-400":"text-yellow-400"),children:function(e){switch(e){case"PAID":return"Pago";case"PENDING":return"Pendente";default:return e}}(e.status)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Total:"}),(0,a.jsxs)("span",{className:"text-primary font-bold ml-2",children:["R$ ",Number(e.totalAmount).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Pagamento:"}),(0,a.jsx)("span",{className:"ml-2 text-white",children:function(e){switch(e){case"BOLETO":return"Boleto Banc\xe1rio";case"CREDIT_CARD":return"Cart\xe3o de Cr\xe9dito";case"PIX":return"PIX";default:return e}}(e.paymentMethod)}),"BOLETO"===e.paymentMethod&&(0,a.jsxs)("div",{className:"text-gray-300 text-xs mt-1",children:["Linha digit\xe1vel: ",e.paymentDetails]}),"CREDIT_CARD"===e.paymentMethod&&(0,a.jsxs)("div",{className:"text-gray-300 text-xs mt-1",children:["Status: ",e.paymentDetails]}),"PIX"===e.paymentMethod&&e.paymentDetails&&e.paymentDetails.startsWith("data:image")&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("span",{className:"text-gray-300 text-xs block mb-1",children:"QR Code:"}),(0,a.jsx)("img",{src:e.paymentDetails,alt:"QR Code PIX",className:"w-32 h-32 bg-white rounded"})]})]}),e.billingAddress&&(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Endere\xe7o de cobran\xe7a:"}),(0,a.jsx)("span",{className:"ml-2 text-white",children:(()=>{try{let t=JSON.parse(e.billingAddress);return"".concat(t.street,", ").concat(t.complement,", ").concat(t.neighborhood,", ").concat(t.city," - ").concat(t.state,", ").concat(t.zipCode)}catch(t){return e.billingAddress}})()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Itens:"}),0===e.items.length?(0,a.jsx)("span",{className:"ml-2 text-gray-400",children:"Nenhum item neste pedido."}):(0,a.jsx)("ul",{className:"ml-4 mt-2",children:e.items.map((e,t)=>{var s;return(0,a.jsxs)("li",{className:"text-white",children:[e.quantity,"x"," ",(null===(s=e.product)||void 0===s?void 0:s.name)?e.product.name:"Produto ID: ".concat(e.productId),(0,a.jsxs)("span",{className:"text-gray-400 ml-2",children:["R$ ",Number(e.unitPrice).toFixed(2)," cada | Total: R$"," ",Number(e.totalPrice).toFixed(2)]})]},t)})})]})]},e.id))})]})}},9297:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(5155);function r(e){let{onClose:t,message:s}=e;return(0,a.jsxs)("button",{className:"top-8 left-4 text-[24px] font-poppins font-bold text-[#E1E1E6] hover:text-white text-xl flex items-center gap-2 cursor-pointer z-10",onClick:t,children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),s]})}},2649:(e,t,s)=>{"use strict";s.d(t,{F:()=>n});var a=s(2651),r=s(9208);let n=a.A.create({baseURL:"http://localhost:3000"});n.interceptors.request.use(e=>{let t=r.A.get("token")||localStorage.getItem("token");return t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(r.A.remove("token"),localStorage.removeItem("token"),localStorage.removeItem("role"),window.location.href="/login"),Promise.reject(e)))}},e=>{var t=t=>e(e.s=t);e.O(0,[794,527,556,441,517,358],()=>t(7244)),_N_E=e.O()}]);