(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[239],{1970:(e,t,r)=>{Promise.resolve().then(r.bind(r,2752))},2752:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var s=r(5155),o=r(8715),n=r(5565);function a(){return(0,s.jsxs)("section",{className:"bg-gradient-to-b from-[#091E26] to-[#00131C] rounded-[8px] relative mt-[164px] h-[268px] w-full mb-[62px]",children:[(0,s.jsx)("div",{className:"absolute -left-20 -bottom-3.5 z-0",children:(0,s.jsx)(n.default,{width:656,height:412,src:"/Assets/images/banner-macarons.png",alt:"Macarons"})}),(0,s.jsxs)("div",{className:"flex flex-col items-end mr-[100px] pt-20 z-10",children:[(0,s.jsx)("h2",{className:"text-[40px] font-2 font-medium text-[#E1E1E6] mb-2",children:"Sabores inigual\xe1veis"}),(0,s.jsx)("p",{className:"text-[#E1E1E6] font-roboto text-[16px]",children:"Sinta o cuidado do preparo com ingredientes selecionados"})]})]})}var l=r(2115),i=r(4915),c=r(7734),x=r(1536),d=r(6046);function u(e){let{product:t,onClick:r}=e,o=(0,d.useRouter)(),[a,u]=(0,l.useState)(1),{addItem:p}=(0,i._)(),{isAdmin:m}=(0,c.z)(),h=()=>{o.push("/features/editProduct/".concat(t.id))};return(0,s.jsxs)("div",{className:"bg-gradient-to-b from-[#000A0F45] to-[#000A0FFF] rounded-[8px] p-6  w-[331px] h-[462px] flex flex-col items-center justify-between relative cursor-pointer hover:scale-105 transition",onClick:r,children:[m?(0,s.jsx)("button",{className:"absolute top-5 right-5 text-[#E1E1E6] text-[24px] hover:text-primary z-10",onClick:e=>{e.stopPropagation(),h()},children:(0,s.jsx)(x.wwX,{})}):(0,s.jsx)("button",{className:"absolute top-3 right-3 text-[#E1E1E6] text-[24px] hover:text-primary z-10",onClick:e=>{e.stopPropagation()},children:t.favorite?"♥":"♡"}),(0,s.jsx)(n.default,{width:44,height:44,src:t.image,alt:t.name,className:"w-44 h-44 object-cover rounded-full mb-3"}),(0,s.jsx)("h4",{className:"text-[#E1E1E6] text-[24px] font-poppins font-bold text-center",children:t.name}),(0,s.jsx)("p",{className:"text-[#E1E1E6] text-[14px] font-roboto text-center",children:t.description}),(0,s.jsxs)("span",{className:"text-[#82F3FF] font-roboto text-[32px] mb-2",children:["R$ ",Number(t.price).toFixed(2)]}),!m&&(0,s.jsxs)("div",{className:"flex items-center p-3 gap-4 w-full",children:[(0,s.jsx)("button",{className:"text-white text-[20px] font-roboto font-bold",onClick:e=>{e.stopPropagation(),u(e=>Math.max(1,e-1))},children:"-"}),(0,s.jsx)("span",{className:"text-white text-[20px] font-roboto font-bold",children:a.toString().padStart(2,"0")}),(0,s.jsx)("button",{className:"text-white text-[20px] font-roboto font-bold",onClick:e=>{e.stopPropagation(),u(e=>e+1)},children:"+"}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),p({productId:t.id,name:t.name,price:Number(t.price),quantity:a})},className:"w-full bg-primary text-white rounded py-2 font-semibold hover:bg-primary/90 transition",children:"Incluir"})]})]})}function p(e){let{title:t,products:r,onProductClick:o}=e,n=(0,l.useRef)(null),[a,i]=(0,l.useState)(!1),[c,x]=(0,l.useState)(0),[d,p]=(0,l.useState)(0),m=()=>{i(!1),n.current&&(n.current.style.cursor="grab",n.current.style.userSelect="auto")};return(0,l.useEffect)(()=>{let e=()=>{a&&(i(!1),n.current&&(n.current.style.cursor="grab",n.current.style.userSelect="auto"))};return document.addEventListener("mouseup",m),document.addEventListener("mouseleave",e),()=>{document.removeEventListener("mouseup",m),document.removeEventListener("mouseleave",e)}},[a]),(0,s.jsxs)("section",{className:"mt-8 overflow-x-hidden",children:[(0,s.jsx)("h2",{className:"text-3xl font-medium text-[#E1E1E6] mb-6 px-4 md:px-0",children:t}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:()=>{n.current&&n.current.scrollBy({left:-300,behavior:"smooth"})},className:"absolute left-0 top-1/2 -translate-y-1/2  text-white p-2  z-20 cursor-pointer","aria-label":"Rolar para a esquerda",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),(0,s.jsx)("div",{ref:n,onMouseDown:e=>{n.current&&(i(!0),x(e.pageX-n.current.offsetLeft),p(n.current.scrollLeft),n.current.style.cursor="grabbing",n.current.style.userSelect="none")},onMouseMove:e=>{if(!a||!n.current)return;e.preventDefault();let t=e.pageX-n.current.offsetLeft;n.current.scrollLeft=d-(t-c)*1.5},onMouseUp:m,onMouseLeave:m,style:{cursor:"grab"},className:"flex gap-6 overflow-x-auto pb-2 px-10 hide-scrollbar",children:r.map(e=>(0,s.jsx)(u,{product:e,onClick:()=>o(e)},e.id))}),(0,s.jsx)("button",{onClick:()=>{n.current&&n.current.scrollBy({left:300,behavior:"smooth"})},className:"absolute right-0 top-1/2 -translate-y-1/2   text-white p-2 rounded-full z-20 cursor-pointer","aria-label":"Rolar para a direita",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]})]})}var m=r(9297);function h(e){let{product:t,onClose:r}=e,o=(0,d.useRouter)(),{addItem:a}=(0,i._)(),[x,u]=(0,l.useState)(1),{isAdmin:p}=(0,c.z)();if(!t)return null;let h=()=>{o.push("/features/editProduct/".concat(t.id))},f=(t.price*x).toFixed(2);return(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80 p-4",children:(0,s.jsxs)("div",{className:"bg-[#1C232A] rounded-2xl w-full max-w-sm md:max-w-4xl relative flex flex-col md:flex-row items-center md:items-start gap-8 p-8",children:[(0,s.jsx)(m.A,{onClose:r,message:"Fechar"}),(0,s.jsx)("div",{className:"flex-shrink-0 mt-12 md:mt-0",children:(0,s.jsx)(n.default,{width:390,height:390,src:t.image,alt:t.name,className:"object-cover rounded-full w-[390px] h-[390px]"})}),(0,s.jsxs)("div",{className:"flex-grow flex flex-col justify-between items-start text-start gap-6 py-10",children:[(0,s.jsx)("h3",{className:"text-4xl font-bold text-[#E1E1E6] mb-2",children:t.name}),(0,s.jsx)("p",{className:"text-[#E1E1E6] text-lg mb-4 leading-relaxed max-w-lg",children:t.description}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-8 justify-center md:justify-start",children:t.ingredients.map((e,t)=>(0,s.jsx)("span",{className:"bg-[#2C3742] text-[#E1E1E6] text-sm px-4 py-1 rounded-md",children:e},t))}),p?(0,s.jsx)("button",{className:"bg-[#750310] text-white rounded-md px-6 py-3 font-medium font-poppins hover:bg-[#920718] transition text-[14px] flex items-center gap-2",onClick:()=>{h(),r()},children:"Editar Prato"}):(0,s.jsxs)("div",{className:"flex items-center gap-6 mt-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("button",{onClick:()=>{u(e=>Math.max(1,e-1))},className:"text-[#E1E1E6] text-[20px] font-roboto  px-3 py-1 font-bold",children:"-"}),(0,s.jsx)("span",{className:"text-[#E1E1E6] text-[20px] font-roboto font-bold",children:String(x).padStart(2,"0")})," ",(0,s.jsx)("button",{onClick:()=>{u(e=>e+1)},className:"text-[#E1E1E6] text-[20px] font-roboto  px-3 py-1 font-bold",children:"+"})]}),(0,s.jsxs)("button",{className:"bg-[#750310] text-white rounded-md px-6 py-3 font-medium font-poppins hover:bg-[#920718] transition text-[14px] flex items-center gap-2",onClick:()=>{a({productId:t.id,name:t.name,price:Number(t.price),quantity:x}),r()},children:["Incluir no carrinho \xb7 R$ ",f]})]})]})]})})}var f=r(9556),b=r(2649),g=r(2500),j=r(6559);let v={FOOD:"Refei\xe7\xf5es",DESSERT:"Sobremesas",DRINK:"Bebidas",SNACK:"Lanches"},E=["FOOD","DESSERT","DRINK","SNACK"];function w(){let[e,t]=(0,l.useState)(null),[r,n]=(0,l.useState)(""),{data:i=[],isLoading:c}=(0,f.I)({queryKey:["products"],queryFn:async()=>(await b.F.get(g.D.PRODUCTS.GET_PRODUCTS_FIND_ALL)).data}),x=(0,l.useMemo)(()=>{if(!r)return i;let e=r.toLowerCase();return i.filter(t=>t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e))},[r,i]),d=E.map(e=>({key:e,label:v[e],products:x.filter(t=>t.category===e)}));return(0,s.jsxs)("div",{className:"min-h-screen bg-[#0D1D25] flex flex-col",children:[(0,s.jsx)(o.A,{onSearchChange:n}),(0,s.jsxs)("main",{className:"flex-1 px-[124px] md:px-[100px] pb-8",children:[(0,s.jsx)(a,{}),c&&(0,s.jsx)("div",{className:"text-[#E1E1E6]",children:"Carregando..."}),d.map(e=>{let{key:r,label:o,products:n}=e;return n.length>0?(0,s.jsx)(p,{title:o,products:n,onProductClick:t},r):null}),(0,s.jsx)(h,{product:e,onClose:()=>t(null)})]}),(0,s.jsx)(j.A,{})]})}},9297:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(5155);function o(e){let{onClose:t,message:r}=e;return(0,s.jsxs)("button",{className:"top-8 left-4 text-[24px] font-poppins font-bold text-[#E1E1E6] hover:text-white text-xl flex items-center gap-2 cursor-pointer z-10",onClick:t,children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),r]})}},2649:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var s=r(2651),o=r(9208);let n=s.A.create({baseURL:"http://localhost:3000"});n.interceptors.request.use(e=>{let t=o.A.get("token")||localStorage.getItem("token");return t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(o.A.remove("token"),localStorage.removeItem("token"),localStorage.removeItem("role"),window.location.href="/login"),Promise.reject(e)))}},e=>{var t=t=>e(e.s=t);e.O(0,[711,844,794,738,173,527,556,223,441,517,358],()=>t(1970)),_N_E=e.O()}]);